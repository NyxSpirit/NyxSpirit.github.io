<html>
<head>
    
    <meta charset='utf8'>
    
    <title>滚动新闻(FakeNyx)</title>
    
    <link rel='stylesheet' type='text/css' href='css/NewsPage.css'>
    
    <script type="text/javascript" src="http://learn.cic.tsinghua.edu.cn:80/res/common/js/library/jquery/jquery-1.7.2.min.js"></script>

<script type="text/javascript">

    $('document').ready(LoadNews());

    function showHint(str) {
        var xmlhttp;
        if (str.length == 0) {
            document.getElementById("txtHint").innerHTML = "";
            return;
        }
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        }
        else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("txtHint").innerHTML = xmlhttp.responseText;
            }
        }
        var url = './gethint.asp';
        xmlhttp.open("GET", url + "?q=" + str, true);
        xmlhttp.send();
    }
	
    function showPic(num) {
        var xmlhttp;
        if (num == 0) {
            $('span#pictures').innerHTML = "";
            return;
        }
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        }
        else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				var picSec = $('span#pictures');
				var json = eval("("+xmlhttp.responseText+")");
				newChild = document.createElement('div');
				newChild.innerHTML = json.totalNumber;
				picSec.append(newChild);
            }
        }
        var url = './NewsSrc.json';
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    }
    
    function LoadNews(){
        var xmlhttp;

        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        }
        else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var json = eval("(" + xmlhttp.responseText + ")");

                var picSec = $('div.abbrPics');
				for (i in json.newsInfo) {
				    var newpic = $("<img/>");
				    newpic[0].src = json.newsInfo[i].picUrl;
				    newpic.addClass('abbrPic');
				    picSec.append(newpic);
				}
            }
        }
        var url = './NewsSrc.json';
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
    }
</script>
</head>

<body>
    <aside class ="commentSection">
        <div class ="showComment">
            <p class ="center">显示评论</p>
        </div>
        <div class ="addComment">
            <h1>添加评论</h1>
            <input />
        </div>
        <div class ="otherFunc">
            <h1>分享</h1>
        </div>
    </aside>   
    <section class="picSection">
        <div class="mainPic">
            <div class="prevNews">
                上一张
            </div>
            <div class="nextNews">
                下一张
            </div>
        </div>

        <div class="prevGroup">
            上一批
        </div>
        <div class="nextGroup">
            下一批
        </div>
        <div class="abbrPics">

        </div>
    </section>




</body>
</html>

